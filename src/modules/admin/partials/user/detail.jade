div.row
  div.col-xs-12
    div#header
      div.page-header
        h1
          a(href='/admin/users/') Users
          |  / {{identity.username}}
    
    alert(type='danger' ng-show='error' close='error = null') {{error}}
    form#identity(ng-submit='identitySubmit(identity)' name='identityForm' novalidate)
      fieldset
        legend Identity
        alert(type='danger' ng-show='identity.error' close='identity.error = null') {{identity.error}}
        alert(type='success' ng-show='identity.success' close='identity.success = null') We updated your identity informations.
        div.form-group
          label Is Active:
          select.form-control(ng-model='identity.isActive' name='isActive' requiered ng-options='item as (item ? "Yes" : "No") for item in [true, false]')
        div.form-group
          label Username:
          input.form-control(type='text' ng-model='identity.username' name='username' value='{{identity.username}}' required)
        div.form-group
          label Email:
          input.form-control(type='text' ng-model='identity.email' name='email' value='{{identity.email}}' required)
        div.form-group
          button.btn.btn-primary.btn-update(type='submit' ng-disabled='identityForm.$invalid') Update
    
    //- div#roles
    //-   fieldset
    //-     legend Roles
    //-     // Alert
    //-     div.form-group(class!='<%- errfor.newAdminId ? "has-error" : "" %>')
    //-       label Admin:
    //-       div.controls
    //-         div.input-group
    //-           |<% if (roles && roles.admin) { %>
    //-           input.form-control(disabled=true value!='<%= roles.admin.name.full %>')
    //-           div.input-group-btn
    //-             button.btn.btn-warning.btn-admin-unlink(type='button') Unlink
    //-             button.btn.btn-default.btn-admin-open(type='button') Open
    //-           |<% } else { %>
    //-           input.form-control(name='newAdminId' type='text' placeholder='enter admin id')
    //-           div.input-group-btn
    //-             button.btn.btn-success.btn-admin-link(type='button') Link
    //-           |<% } %>
    //-         span.help-block <%- errfor.newAdminId %>
    //-     div.form-group(class!='<%- errfor.newAccountId ? "has-error" : "" %>')
    //-       label Account:
    //-       div.input-group
    //-         |<% if (roles && roles.account) { %>
    //-         input.form-control(disabled=true value!='<%= roles.account.name.full %>')
    //-         div.input-group-btn
    //-           button.btn.btn-warning.btn-account-unlink(type='button') Unlink
    //-           button.btn.btn-default.btn-account-open(type='button') Open
    //-         |<% } else { %>
    //-         input.form-control(name='newAccountId' type='text' placeholder='enter account id')
    //-         div.input-group-btn
    //-           button.btn.btn-success.btn-account-link(type='button') Link
    //-         |<% } %>
    //-       span.help-block <%- errfor.newAccountId %>
          
    //- div#password
    //-   fieldset
    //-     legend Set Password
    //-     // Alert
    //-     div.form-group
    //-       label New Password:
    //-       input.form-control(type='password' name='newPassword')
    //-     div.form-group
    //-       label Confirm Password:
    //-       input.form-control(type='password' name='confirm')
    //-     div.form-group
    //-       button.btn.btn-primary.btn-password(type='button') Set Password

    div#delete
      fieldset
        legend Danger Zone
        alert(type='danger' ng-show='deleteUserError.error' close='deleteUserError.error = null') {{deleteUserError.error}}
        div.form-group
          span.help-block
            span.label.label-danger If you do this it cannot be undone.
            |&nbsp;
            span.text-muted You may also create orphaned document relationships too.
        div.form-group
          button.btn.btn-danger.btn-delete(type='button' ng-click='deleteUser()') Delete
