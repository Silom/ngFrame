div.row
  div.col-xs-12
    div#header
      div.page-header
        h1
          a(href='/admin/administrators/') Administrators
          |  / {{identity.name.first}} {{identity.name.last}}

    alert(type='danger' ng-show='error' close='error = null') {{error}}
    
    form#details(ng-submit='identitySubmit(identity.name)' name='identityForm' novalidate)
      fieldset
        legend Contact Info
        alert(type='danger' ng-show='identity.error' close='identity.error = null') {{identity.error}}
        alert(type='success' ng-show='identity.success' close='identity.success = null') We updated your identity informations.
        div.form-group
          label First Name:
          input.form-control(type='text' name='first' ng-model='identity.name.first' required)
        div.form-group
          label Middle Name:
          input.form-control(type='text' name='middle' ng-model='identity.name.middle')
        div.form-group
          label Last Name:
          input.form-control(type='text' name='last' ng-model='identity.name.last' required)
        div.form-group
          button.btn.btn-primary.btn-update(type='submit' ng-disabled='identityForm.$invalid') Update

          
    //- div#login
    //-   fieldset
    //-     legend Login
    //-     // alert
    //-     div.form-group
    //-       label Username:
    //-       div.input-group
    //-         // if (name)
    //-         input.form-control(disabled=true value='<%= name %>')
    //-         div.input-group-btn
    //-           button.btn.btn-warning.btn-user-unlink(type='button') Unlink
    //-           button.btn.btn-default.btn-user-open(type='button') Open
    //-         //  else
    //-         input.form-control(name='newUsername' type='text' placeholder='enter a username')
    //-         div.input-group-btn
    //-           button.btn.btn-success.btn-user-link(type='button') Link
            
          
    //- div#groups
    //-   fieldset
    //-     legend Groups
    //-     // alert
    //-     div.form-group
    //-       label Add Membership:
    //-       div.input-group
    //-         select.form-control(name='newMembership')
    //-           for group in data.adminGroups
    //-             option(value='#{group._id}') #{group.name}
    //-         div.input-group-btn
    //-           button.btn.btn-success.btn-add(type='button') Add
    //-     div.form-group
    //-       label Memberships:
    //-       div.groups
    //-         |<% _.each(groups function(group) { %>
    //-         div.input-group
    //-           input.form-control(disabled=true value='<%= group.name %>')
    //-           div.input-group-btn
    //-             button.btn.btn-danger.btn-delete(type='button')
    //-               i.fa.fa-trash-o.fa-inverse
    //-         |<% }); %>
    //-         |<% if (groups.length == 0) { %>
    //-         span.badge no memberships defined
    //-         |<% } %>
    //-     div.form-group
    //-       button.btn.btn-primary.btn-save(type='button') Save Groups
          
          
    //- div#permissions
    //-   fieldset
    //-     legend Permissions
    //-     // Alert
    //-     div.form-group
    //-       label New Setting:
    //-       div.input-group
    //-         input.form-control(name='newPermission' type='text' placeholder='enter a name')
    //-         div.input-group-btn
    //-           button.btn.btn-success.btn-add(type='button') Add
    //-     div.form-group
    //-       label Settings:
    //-       div.permissions
    //-         |<% _.each(permissions function(permission) { %>
    //-         div.input-group
    //-           input.form-control(disabled=true value='<%= permission.name %>')
    //-           div.input-group-btn
    //-             |<% if (permission.permit) { %>
    //-             button.btn.btn-default.btn-allow(type='button' disabled) Allow
    //-             button.btn.btn-default.btn-deny(type='button') Deny
    //-             |<% } else { %>
    //-             button.btn.btn-default.btn-allow(type='button') Allow
    //-             button.btn.btn-default.btn-deny(type='button' disabled) Deny
    //-             |<% } %>
    //-             button.btn.btn-danger.btn-delete(type='button')
    //-               i.fa.fa-trash-o.fa-inverse
    //-         |<% }); %>
    //-         |<% if (permissions.length == 0) { %>
    //-         span.badge no permissions defined
    //-         |<% } %>
    //-     div.form-group
    //-       button.btn.btn-primary.btn-set(type='button') Save Settings
      
      
    div#delete
      fieldset
        legend Danger Zone
        alert(type='danger' ng-show='deleteAdminError.error' close='deleteAdminError.error = null') {{deleteAdminError.error}}
        div.form-group
          span.help-block
            span.label.label-danger If you do this it cannot be undone.
            |&nbsp;
            span.text-muted You may also create orphaned document relationships too.
        div.form-group
          button.btn.btn-danger.btn-delete(type='button' ng-click='deleteAdmin()') Delete




  //- div#login
  //-   fieldset
  //-     legend Login
  //-     // Alert
  //-     div.form-group
  //-       label Username:
  //-       div.input-group
  //-         |<% if (name) { %>
  //-         input.form-control(disabled=true value='<%= name %>')
  //-         div.input-group-btn
  //-           button.btn.btn-warning.btn-user-unlink(type='button') Unlink
  //-           button.btn.btn-default.btn-user-open(type='button') Open
  //-         |<% } else { %>
  //-         input.form-control(name='newUsername' type='text' placeholder='enter a username')
  //-         div.input-group-btn
  //-           button.btn.btn-success.btn-user-link(type='button') Link
  //-         |<% } %>
  //-       span.help-block <%- errfor.newUsername %>


//- div.col-sm-4
//-   fieldset
//-     div#status-new.status-new
//-       legend Status
//-       // Alert
//-       div.input-group
//-         select.form-control(name='status')
//-           option(value='') -- choose --
//-           for status in data.statuses
//-             option(value='#{status._id}') #{status.name}
//-         div.input-group-btn
//-           button.btn.btn-default.btn-add Change
//-           
//-     div#status-collection
//-       div#status-items.status-items
//-         // Repeat
//-         div.pull-right.badge.author
//-           |<%= userCreated.name %>
//-           | -&nbsp;
//-           span.timeago <%= userCreated.time %>
//-         div <%- name %>
//-         div.clearfix
//- 
//- 
//-   fieldset
//-     div#notes-new.notes-new
//-       legend Notes
//-       // Alert
//-       textarea.form-control(rows='3' name='data' placeholder='enter notes')
//-       button.btn.btn-default.btn-block.btn-add Add New Note
//-       
//-     div#notes-collection
//-       div#notes-items.notes-items
//-         // Repeat
//-         div.force-wrap <%- data %>
//-         div.pull-right.badge.author
//-           |<%= userCreated.name %>
//-           | -&nbsp;
//-           span.timeago <%= userCreated.time %>
//-         div.clearfix
//-       // Else
//-       div.note.text-muted no notes found
